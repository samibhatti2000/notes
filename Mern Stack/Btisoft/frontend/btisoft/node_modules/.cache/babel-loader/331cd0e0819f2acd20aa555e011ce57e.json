{"ast":null,"code":"import _asyncToGenerator from\"/home/sam/Btisoft/frontend/btisoft/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/home/sam/Btisoft/frontend/btisoft/node_modules/@babel/runtime/regenerator/index.js\";import axios from\"axios\";import{getOneProduct,getProduct}from\"../actions/productAction\";export var fetchProduct=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var req,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/v1/products\").catch(function(error){console.log(error);});case 2:req=_context.sent;data=req.data.products;dispatch(getProduct(data));case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchProduct(_x){return _ref.apply(this,arguments);};}();export var fetchOneProduct=function fetchOneProduct(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var req,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"/api/v1/product/\".concat(id)).catch(function(error){console.log(error);});case 2:req=_context2.sent;data=req.data.product;dispatch(getOneProduct(data));case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var putOneProduct=function putOneProduct(id){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(mydata){var config,req;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:config={Headers:{'Content-Type':'application/json'}};_context3.next=3;return axios.put(\"/api/v1/admin/product/\".concat(id),mydata,config).catch(function(error){console.log(error);});case 3:req=_context3.sent;if(req.data.success===true){window.alert('product updated');console.log('product updated');}case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};","map":{"version":3,"sources":["/home/sam/Btisoft/frontend/btisoft/src/App/redux/reduxAxois/fetchProduct.js"],"names":["axios","getOneProduct","getProduct","fetchProduct","dispatch","get","catch","error","console","log","req","data","products","fetchOneProduct","id","product","putOneProduct","mydata","config","Headers","put","success","window","alert"],"mappings":"mPAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,aAAT,CAAwBC,UAAxB,KAA0C,0BAA1C,CAGA,MAAO,IAAMC,CAAAA,YAAY,0FAAG,iBAAOC,QAAP,qJACRJ,CAAAA,KAAK,CAACK,GAAN,CAAU,kBAAV,EAA8BC,KAA9B,CAAoC,SAACC,KAAD,CAAW,CAC/DC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAFiB,CADQ,QACpBG,GADoB,eAIpBC,IAJoB,CAIbD,GAAG,CAACC,IAAJ,CAASC,QAJI,CAK1BR,QAAQ,CAACF,UAAU,CAACS,IAAD,CAAX,CAAR,CAL0B,sDAAH,kBAAZR,CAAAA,YAAY,4CAAlB,CAQP,MAAO,IAAMU,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,EAAD,kGAAO,kBAAOV,QAAP,0JAClBJ,CAAAA,KAAK,CAACK,GAAN,2BAA6BS,EAA7B,GAAmCR,KAAnC,CAAyC,SAACC,KAAD,CAAW,CACpEC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAFiB,CADkB,QAC9BG,GAD8B,gBAI9BC,IAJ8B,CAIvBD,GAAG,CAACC,IAAJ,CAASI,OAJc,CAKpCX,QAAQ,CAACH,aAAa,CAACU,IAAD,CAAd,CAAR,CALoC,wDAAP,kEAAxB,CAQP,MAAO,IAAMK,CAAAA,aAAa,CAAI,QAAjBA,CAAAA,aAAiB,CAACF,EAAD,kGAAQ,kBAAOG,MAAP,qIAC9BC,MAD8B,CACrB,CACbC,OAAO,CAAC,CAAC,eAAe,kBAAhB,CADK,CADqB,wBAIlBnB,CAAAA,KAAK,CAACoB,GAAN,iCAAmCN,EAAnC,EAAwCG,MAAxC,CAA+CC,MAA/C,EAAuDZ,KAAvD,CAA6D,SAACC,KAAD,CAAW,CACxFC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAFiB,CAJkB,QAI9BG,GAJ8B,gBAOpC,GAAGA,GAAG,CAACC,IAAJ,CAASU,OAAT,GAAqB,IAAxB,CAA6B,CAC3BC,MAAM,CAACC,KAAP,CAAa,iBAAb,EACAf,OAAO,CAACC,GAAR,CAAY,iBAAZ,EACD,CAVmC,wDAAR,kEAAvB","sourcesContent":["import axios from \"axios\";\nimport { getOneProduct, getProduct } from \"../actions/productAction\";\n\n\nexport const fetchProduct = async (dispatch) => {\n  const req = await axios.get(\"/api/v1/products\").catch((error) => {\n    console.log(error);\n  });\n  const data = req.data.products;\n  dispatch(getProduct(data));\n};\n\nexport const fetchOneProduct = (id)=> async (dispatch) => {\n  const req = await axios.get(`/api/v1/product/${id}`).catch((error) => {\n    console.log(error);\n  });\n  const data = req.data.product\n  dispatch(getOneProduct(data));\n};\n\nexport const putOneProduct =  (id) => async (mydata) => { \n  const config = {\n    Headers:{'Content-Type':'application/json'}\n  }\n  const req = await axios.put(`/api/v1/admin/product/${id}`,mydata,config).catch((error) => {\n    console.log(error);\n  });\n  if(req.data.success === true){\n    window.alert('product updated')\n    console.log('product updated')\n  }\n};\n"]},"metadata":{},"sourceType":"module"}