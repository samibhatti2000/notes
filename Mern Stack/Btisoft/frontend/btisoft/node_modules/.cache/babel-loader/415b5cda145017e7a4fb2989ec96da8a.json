{"ast":null,"code":"import _asyncToGenerator from\"/home/sam/Btisoft/frontend/btisoft/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/sam/Btisoft/frontend/btisoft/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/sam/Btisoft/frontend/btisoft/node_modules/@babel/runtime/regenerator/index.js\";import{Button}from'@mui/material';import{makeStyles}from'@mui/styles';import axios from'axios';import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Navigate,useParams}from'react-router-dom';import{fetchOneProduct,putOneProduct}from'../../redux/reduxAxois/fetchProduct';import DashSideBar from'./DashSideBar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyle=makeStyles(function(theme){return{flex_center:{display:'flex',justifyContent:'center',alignItems:'center'},flex_column:{display:'flex',justifyContent:'center',alignItems:'center',flexDirection:'column'},rox_box:{margin:'0.1vmax'},row:{border:'1px solid black',padding:'1vmax'}};});var AdminUpdateProduct=function AdminUpdateProduct(_ref){var id=_ref.id;var dispatch=useDispatch();var params=useParams();var _useSelector=useSelector(function(state){return state.onProduct;}),product=_useSelector.product;var images=product.images;useEffect(function(){// const product = axios.get(`/api/v1/product/ `)\nfetchOneProduct(params.id)(dispatch);// console.log(product);\n},[dispatch]);var _useState=useState(product.name),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(product.description),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(product.price),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useState7=useState(product.category),_useState8=_slicedToArray(_useState7,2),category=_useState8[0],setCategory=_useState8[1];var putreq=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data={\"name\":name,\"price\":price,\"category\":category,\"description\":description};putOneProduct(params.id)(data);case 2:case\"end\":return _context.stop();}}},_callee);}));return function putreq(){return _ref2.apply(this,arguments);};}();var classes=useStyle();var token=window.localStorage.getItem('token');if(!token){return/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/admin/login\"});}return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',position:\"fixed\",width:\"100vw\",zIndex:\"10000\",background:\"white\"},children:[/*#__PURE__*/_jsx(DashSideBar,{}),/*#__PURE__*/_jsx(\"div\",{className:classes.flex_center,style:{width:'100%',height:'100vh'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(classes.flex_center),children:[/*#__PURE__*/_jsx(\"div\",{className:classes.row,style:{margin:'2vmax'},children:images&&images.map(function(item,index){return/*#__PURE__*/_jsx(\"img\",{src:images[index].url,style:{width:'20vmax'}},index);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(classes.row).concat(classes.flex_column),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(classes.row).concat(classes.flex_center),children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"name: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,placeholder:product.name,onChange:function onChange(e){setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"category: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:category,placeholder:product.category,onChange:function onChange(e){setCategory(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"price: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:price,placeholder:product.price,onChange:function onChange(e){setPrice(e.target.value);}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(classes.flex_center),children:[\"description:\",/*#__PURE__*/_jsx(\"textarea\",{value:description,placeholder:product.description,onChange:function onChange(e){setDescription(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){putreq();},children:\"update\"})]})]})})]});};export default AdminUpdateProduct;","map":{"version":3,"sources":["/home/sam/Btisoft/frontend/btisoft/src/App/component/adminComponent/AdminUpdateProduct.js"],"names":["Button","makeStyles","axios","React","useEffect","useState","useDispatch","useSelector","Navigate","useParams","fetchOneProduct","putOneProduct","DashSideBar","useStyle","theme","flex_center","display","justifyContent","alignItems","flex_column","flexDirection","rox_box","margin","row","border","padding","AdminUpdateProduct","id","dispatch","params","state","onProduct","product","images","name","setName","description","setDescription","price","setPrice","category","setCategory","putreq","data","classes","token","window","localStorage","getItem","position","width","zIndex","background","height","map","item","index","url","e","target","value"],"mappings":"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","sourcesContent":["import { Button } from '@mui/material';\nimport { makeStyles } from '@mui/styles';\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Navigate, useParams } from 'react-router-dom';\nimport { fetchOneProduct, putOneProduct } from '../../redux/reduxAxois/fetchProduct';\nimport DashSideBar from './DashSideBar';\n\nconst useStyle = makeStyles((theme)=>({\n    flex_center:{\n      display:'flex',\n      justifyContent:'center',\n      alignItems:'center',\n    },\n    flex_column:{\n      display:'flex',\n      justifyContent:'center',\n      alignItems:'center',\n      flexDirection:'column'\n    },\n    rox_box:{\n      margin:'0.1vmax'\n    },\n    row:{\n      border:'1px solid black',\n      padding:'1vmax'\n    }\n  }))\n\nconst AdminUpdateProduct = ({id}) => {\n\n    const dispatch = useDispatch();\n    const params = useParams();\n    const {product} = useSelector((state)=>state.onProduct);\n    const {images} = product\n\n    useEffect(()=>{\n      // const product = axios.get(`/api/v1/product/ `)\n      fetchOneProduct(params.id)(dispatch);\n\n      // console.log(product);\n    },[dispatch])\n\n    const [name, setName] = useState(product.name);\n    const [description, setDescription] = useState(product.description);\n    const [price, setPrice] = useState(product.price);\n    const [category, setCategory] = useState(product.category);\n\n    \n    const putreq = async ()=>{\n\n      const data={\n        \"name\":name,\n        \"price\":price,\n        \"category\":category,\n        \"description\":description\n      }\n\n      putOneProduct(params.id)(data);\n\n    }\n    \n    const classes = useStyle();\n\n    const token = window.localStorage.getItem('token')\n    if(!token){\n      return <Navigate replace to=\"/admin/login\" />;\n  \n    }\n    return (\n      <div style={{display:'flex', position:\"fixed\", width:\"100vw\", zIndex:\"10000\", background:\"white\"}}>\n      <DashSideBar />\n        <div className={classes.flex_center} style={{width:'100%', height:'100vh'}}>\n        <div  className={`${classes.flex_center}`}>\n            <div className={classes.row} style={{margin:'2vmax'}}>\n            {images && images.map((item,index)=>(\n              <img src={images[index].url}\n            style={{width:'20vmax'}} key={index}/>\n            ))}\n            </div>\n            <div className={`${classes.row}${classes.flex_column}`}>\n                <div className={`${classes.row}${classes.flex_center}`}>\n                    <div>name: <input type='text' value={name} placeholder={product.name}\n                      onChange={(e)=>{setName(e.target.value)}}\n                    /></div>\n                    <div>category: <input type='text' value={category} placeholder={product.category}\n                      onChange={(e)=>{setCategory(e.target.value)}}\n                    /></div>\n                    <div>price: <input type='text' value={price} placeholder={product.price}\n                      onChange={(e)=>{setPrice(e.target.value)}}\n                    /></div>\n                </div>\n                <div className={`${classes.flex_center}`}>\n                  description:\n                  <textarea  value={description} placeholder={product.description} \n                    onChange={(e)=>{setDescription(e.target.value)}}\n                  />\n                </div>\n                <button onClick={()=>{putreq()}} >update</button>\n            </div>\n        </div>\n        </div>\n  \n  \n      </div>\n    )\n}\n\nexport default AdminUpdateProduct"]},"metadata":{},"sourceType":"module"}