{"ast":null,"code":"import _slicedToArray from\"/home/sam/Btisoft/frontend/btisoft/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button}from\"@mui/material\";import{makeStyles}from\"@mui/styles\";import React,{useEffect,useState}from\"react\";import{useAlert}from\"react-alert\";import{useDispatch}from\"react-redux\";import{Navigate,useNavigate}from\"react-router-dom\";import{fetchProduct}from\"../../redux/reduxAxois/fetchProduct\";import{fetchContact}from\"../../redux/reduxAxois/fetchContact\";import{userLogin,userLoginAction}from\"../../redux/actions/userAction\";import{LoginUserpost}from\"../../redux/reduxAxois/LoginUserpost\";import DashSideBar from\"./DashSideBar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyle=makeStyles(function(theme){return{flex_center:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},flex_column:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",flexDirection:\"column\"},container:{width:\"100vw\",height:\"100vh\"},input:{padding:\"1vmax\",margin:\"1vmax\"}};});var Login=function Login(){var dispatch=useDispatch();useEffect(function(){// fetchContact(dispatch)\n// fetchProduct(dispatch)\n},[dispatch]);var _useState=useState(),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var alert=useAlert();var navigate=useNavigate();var submitLogin=function submitLogin(e){e.preventDefault();var myform=new FormData();myform.set(\"email\",email);myform.set(\"password\",password);// const redirect = location.search ? location.search.split(\"=\")[1] : \"/admin\";\nLoginUserpost(myform)(dispatch);navigate('/admin');};var classes=useStyle();var token=window.localStorage.getItem('token');if(token){return/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/admin\"});}return/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",position:\"fixed\",width:\"100vw\",zIndex:\"10000\",background:\"white\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(classes.flex_center,\" \").concat(classes.container),children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitLogin,className:classes.flex_column,children:[/*#__PURE__*/_jsx(\"input\",{className:classes.input,type:\"email\",value:email,placeholder:\"email\",onChange:function onChange(e){setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:classes.input,type:\"password\",value:password,placeholder:\"password\",onChange:function onChange(e){setPassword(e.target.value);}}),/*#__PURE__*/_jsx(Button,{sx:{fontSize:\"1.5vmax\"},color:\"secondary\",type:\"submit\",children:\"Login\"})]})})});};export default Login;","map":{"version":3,"sources":["/home/sam/Btisoft/frontend/btisoft/src/App/component/adminComponent/login.js"],"names":["Button","makeStyles","React","useEffect","useState","useAlert","useDispatch","Navigate","useNavigate","fetchProduct","fetchContact","userLogin","userLoginAction","LoginUserpost","DashSideBar","useStyle","theme","flex_center","display","justifyContent","alignItems","flex_column","flexDirection","container","width","height","input","padding","margin","Login","dispatch","email","setEmail","password","setPassword","alert","navigate","submitLogin","e","preventDefault","myform","FormData","set","classes","token","window","localStorage","getItem","position","zIndex","background","target","value","fontSize"],"mappings":"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","sourcesContent":["import { Button } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport React, { useEffect, useState } from \"react\";\nimport { useAlert } from \"react-alert\";\nimport { useDispatch } from \"react-redux\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\nimport {fetchProduct} from \"../../redux/reduxAxois/fetchProduct\"\nimport {fetchContact} from \"../../redux/reduxAxois/fetchContact\"\nimport { userLogin, userLoginAction } from \"../../redux/actions/userAction\";\nimport { LoginUserpost } from \"../../redux/reduxAxois/LoginUserpost\";\nimport DashSideBar from \"./DashSideBar\";\n\nconst useStyle = makeStyles((theme) => ({\n  flex_center: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  flex_column: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n  },\n  container: {\n    width: \"100vw\",\n    height: \"100vh\",\n  },\n  input: {\n    padding: \"1vmax\",\n    margin: \"1vmax\",\n  },\n}));\n\nconst Login = () => {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    \n    // fetchContact(dispatch)\n    // fetchProduct(dispatch)\n\n    \n\n  }, [dispatch]);\n\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const alert = useAlert();\n  const navigate = useNavigate();\n\n  const submitLogin = (e) => {\n    e.preventDefault();\n    const myform = new FormData();\n    myform.set(\"email\", email);\n    myform.set(\"password\", password);\n    // const redirect = location.search ? location.search.split(\"=\")[1] : \"/admin\";\n    \n    LoginUserpost(myform)(dispatch);\n\n    navigate('/admin')\n  };\n  const classes = useStyle();\n\n\n  const token = window.localStorage.getItem('token')\n  if(token){\n    return <Navigate replace to=\"/admin\" />;\n  }\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        position: \"fixed\",\n        width: \"100vw\",\n        zIndex: \"10000\",\n        background: \"white\",\n      }}\n    >\n      <div className={`${classes.flex_center} ${classes.container}`}>\n        <form onSubmit={submitLogin} className={classes.flex_column}>\n          <input\n            className={classes.input}\n            type=\"email\"\n            value={email}\n            placeholder=\"email\"\n            onChange={(e) => {\n              setEmail(e.target.value);\n            }}\n          />\n          <input\n            className={classes.input}\n            type=\"password\"\n            value={password}\n            placeholder=\"password\"\n            onChange={(e) => {\n              setPassword(e.target.value);\n            }}\n          />\n          <Button sx={{ fontSize: \"1.5vmax\" }} color=\"secondary\" type=\"submit\">\n            Login\n          </Button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}