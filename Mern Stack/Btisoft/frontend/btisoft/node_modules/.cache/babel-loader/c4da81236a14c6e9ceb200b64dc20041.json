{"ast":null,"code":"import _asyncToGenerator from\"/home/sam/Btisoft/frontend/btisoft/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/home/sam/Btisoft/frontend/btisoft/node_modules/@babel/runtime/regenerator/index.js\";import{makeStyles}from\"@mui/styles\";import React from\"react\";import EditIcon from\"@mui/icons-material/Edit\";import DeleteSweepIcon from\"@mui/icons-material/DeleteSweep\";import{useDispatch,useSelector}from\"react-redux\";import{Navigate,useNavigate}from\"react-router-dom\";import DashSideBar from\"./DashSideBar\";import axios from\"axios\";import{fetchProduct}from\"../../redux/reduxAxois/fetchProduct\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyle=makeStyles(function(theme){return{flex_center:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},flex_column:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",flexDirection:\"column\"},rox_box:{margin:\"0.1vmax\"},row:{border:\"1px solid black\",padding:\"1vmax\"}};});var AdminProduct=function AdminProduct(){var dispatch=useDispatch();var classes=useStyle();var _useSelector=useSelector(function(state){return state.product;}),product=_useSelector.product;var navigate=useNavigate();console.log(product.length);var token=window.localStorage.getItem(\"token\");if(!token){return/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/admin/login\"});}return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",position:\"absolute\",width:\"100vw\",zIndex:\"10000\",background:\"white\"},children:[/*#__PURE__*/_jsx(DashSideBar,{}),/*#__PURE__*/_jsx(\"div\",{className:classes.flex_center,style:{width:\"100%\",height:\"100vh\"},children:/*#__PURE__*/_jsxs(\"div\",{className:classes.flex_column,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.flex_center,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.row,children:\"id\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.row,children:\"name\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.row,children:\"price\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.row,children:\"category\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.row,children:\"updt delete\"})]}),product&&product.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(classes.flex_center),style:{margin:\"0.3vmax\",alignSelf:\"flex-start\"},children:[/*#__PURE__*/_jsx(\"div\",{className:classes.row,children:product[index]._id}),/*#__PURE__*/_jsx(\"div\",{className:classes.row,children:product[index].name}),/*#__PURE__*/_jsx(\"div\",{className:classes.row,children:product[index].price}),/*#__PURE__*/_jsx(\"div\",{className:classes.row,children:product[index].category}),/*#__PURE__*/_jsxs(\"div\",{className:classes.row,children:[/*#__PURE__*/_jsx(EditIcon,{sx:{color:\"green\",margin:\"0 0.2vmax\"},onClick:function onClick(){navigate(\"/admin/product/\".concat(product[index]._id));}}),/*#__PURE__*/_jsx(DeleteSweepIcon,{sx:{color:\"red\",margin:\"0 0.2vmax\"},onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var req;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.delete(\"/api/v1/admin/product/\".concat(product[index]._id));case 2:req=_context.sent;if(req.data.success===true){fetchProduct(dispatch);window.alert(\"product deleted\");}case 4:case\"end\":return _context.stop();}}},_callee);}))})]})]},index);})]})})]});};export default AdminProduct;","map":{"version":3,"sources":["/home/sam/Btisoft/frontend/btisoft/src/App/component/adminComponent/AdminProduct.js"],"names":["makeStyles","React","EditIcon","DeleteSweepIcon","useDispatch","useSelector","Navigate","useNavigate","DashSideBar","axios","fetchProduct","useStyle","theme","flex_center","display","justifyContent","alignItems","flex_column","flexDirection","rox_box","margin","row","border","padding","AdminProduct","dispatch","classes","state","product","navigate","console","log","length","token","window","localStorage","getItem","position","width","zIndex","background","height","map","item","index","alignSelf","_id","name","price","category","color","delete","req","data","success","alert"],"mappings":"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","sourcesContent":["import { makeStyles } from \"@mui/styles\";\nimport React from \"react\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport DeleteSweepIcon from \"@mui/icons-material/DeleteSweep\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\nimport DashSideBar from \"./DashSideBar\";\nimport axios from \"axios\";\nimport { fetchProduct } from \"../../redux/reduxAxois/fetchProduct\";\n\nconst useStyle = makeStyles((theme) => ({\n  flex_center: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  flex_column: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n  },\n  rox_box: {\n    margin: \"0.1vmax\",\n  },\n  row: {\n    border: \"1px solid black\",\n    padding: \"1vmax\",\n  },\n}));\n\nconst AdminProduct = () => {\n  const dispatch = useDispatch();\n  const classes = useStyle();\n  const { product } = useSelector((state) => state.product);\n  const navigate = useNavigate();\n\n  console.log(product.length);\n\n  const token = window.localStorage.getItem(\"token\");\n  if (!token) {\n    return <Navigate replace to=\"/admin/login\" />;\n  }\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        position: \"absolute\",\n        width: \"100vw\",\n        zIndex: \"10000\",\n        background: \"white\",\n      }}\n    >\n      <DashSideBar />\n      <div\n        className={classes.flex_center}\n        style={{ width: \"100%\", height: \"100vh\" }}\n      >\n        <div className={classes.flex_column}>\n          <div className={classes.flex_center}>\n            <div className={classes.row}>id</div>\n            <div className={classes.row}>name</div>\n            <div className={classes.row}>price</div>\n            <div className={classes.row}>category</div>\n            <div className={classes.row}>updt delete</div>\n          </div>\n          {product &&\n            product.map((item, index) => (\n              <div\n                className={`${classes.flex_center}`}\n                style={{ margin: \"0.3vmax\", alignSelf: \"flex-start\" }}\n                key={index}\n              >\n                <div className={classes.row}>{product[index]._id}</div>\n                <div className={classes.row}>{product[index].name}</div>\n                <div className={classes.row}>{product[index].price}</div>\n                <div className={classes.row}>{product[index].category}</div>\n                <div className={classes.row}>\n                  <EditIcon\n                    sx={{ color: \"green\", margin: \"0 0.2vmax\" }}\n                    onClick={() => {\n                      navigate(`/admin/product/${product[index]._id}`);\n                    }}\n                  />\n                  <DeleteSweepIcon\n                    sx={{ color: \"red\", margin: \"0 0.2vmax\" }}\n                    onClick={async () => {\n                      const req = await axios.delete(\n                        `/api/v1/admin/product/${product[index]._id}`\n                      );\n                      if (req.data.success === true) {\n                        fetchProduct(dispatch);\n                        window.alert(\"product deleted\");\n                      }\n                    }}\n                  />\n                </div>\n              </div>\n            ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminProduct;\n"]},"metadata":{},"sourceType":"module"}